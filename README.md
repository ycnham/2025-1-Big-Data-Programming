
# 🚗 2025-1 Big Data Programming
# 데이터 기반 전기차 충전소 최적 위치 선정 및 추천 시스템 – G조

---

## 개요 (Overview)

전기차 시장의 급속한 성장에 비해 충전 인프라의 공급은 부족하고, 지역 간 불균형이 심화되고 있습니다.  
기존 충전소 입지는 설치 용이성 위주로 결정되어 수요를 제대로 반영하지 못하며,  
충전소 부족은 전기차 보급의 주요 장애 요소로 작용하고 있습니다.

본 프로젝트는 서울시를 대상으로 전기차 충전소의 **최적 입지 선정**을 목표로 하며,  
다양한 데이터를 기반으로 수요 예측과 최적화 모델을 통해 **제한된 설치 수 내 최대 수요를 커버**할 수 있는 전략을 제시합니다.  
이를 통해 효율적인 인프라 배치와 정책적 의사결정 지원을 도모합니다.

---

## 기능 구조 (Project Structure)

```
2025-1-Big-Data-Programming/
├── README.md
├── requirements.txt
│
├── data/
│   ├── raw/                     # 원본 데이터
│   ├── processed/               # 전처리 완료 데이터
│   └── modeling/                # 모델링용 파생 데이터
│
├── outputs/
│   ├── eda/                     # 탐색적 데이터 분석 결과
│   ├── plots/                   # 시각화 결과
│   └── maps/                    # MCLP 결과 지도
│
├── scripts/
│   ├── run_preprocessing.py     # 전처리 실행 스크립트
│   └── main.ipynb               # 해결 프로세스 합치 노트북
│
├── src/
│   ├── preprocessing/           # 전처리 모듈
│   ├── analysis/                # 수요 예측 및 클러스터링
│   ├── modeling/                # MCLP 모델 명세
│   ├── utils/                   # 자동화 등 특수 기능
│   └── visualization/           # 시각화
└── 
```

---

## 환경 (Environment)

- **Python**: 3.12.2
- **OS**: Windows 11

---

## 패키지 및 사용 버전 (Packages)

### 특수 사용 및 버전:

#### 🔹 데이터 처리
- pandas >= 1.5.0
- numpy >= 1.24.0

#### 🔹 지도 데이터
- geopandas >= 0.13.0

#### 🔹 시각화
- matplotlib >= 3.7.0
- seaborn >= 0.12.0
- folium >= 0.14.0
- plotly >= 5.15.0

#### 🔹 모델링
- scikit-learn >= 1.3.0
- xgboost >= 1.7.0

#### 🔹 최적화
- pulp >= 2.7.0

#### 🔹 파일 처리
- openpyxl >= 3.1.0
- xlrd >= 2.0.0

#### 🔹 웹앱 (optional)
- streamlit >= 1.25.0

---

## 데이터 (Data)

### 사용 데이터셋 (data/raw/)
- `한국전력공사_전기차충전서비스운영시스템_고객센터 상담내역_코드표.xlsx`
- `서울시 소유 충전기 일별 시간별 충전현황.xlsx`
- `서울시 자치구 읍면동별 연료별 자동차 등록현황(행정동)(25년04월).xls`
- `소상공인시장진흥공단_상가(상권)정보_서울_202503.csv`
- `월별소통정보(구간별-첨두시별).csv`
- `전기차 충전소 충전량 데이터_202501.xlsx`
- `전기차 충전소 충전량 데이터_202502.xlsx`
- `전기차 충전소 충전량 데이터_202503.xlsx`
- `한국전력공사_전기차충전서비스운영시스템_고객센터 상담 내역_20241231.csv`
- `한국환경공단_전기차충전소위치및운영정보(충전소ID포함)_20230531.csv`

전처리 실행: `python scripts/run_preprocessing.py`

---

##  모델링 프로세스 요약 (Modeling Pipeline)

본 프로젝트의 분석 및 추천 흐름은 아래 단계로 구성되어 있습니다:

1. **데이터 수집 및 전처리**
   - 다양한 기관(서울시, 한전, 환경공단 등)에서 수집한 데이터를 통합 정제
   - 전기차 등록 수, 충전소 위치, 충전량, 상권정보 등을 단일 격자 기준으로 병합

2. **서울시 전역 격자화**
   - 서울시 전체를 500m × 500m 크기의 격자로 분할하여 공간 단위 분석 구조 구축

3. **K-Means 클러스터링**
   - 격자별 상권, 교통, 전기차 수 등의 요소를 기반으로 수요 밀집 지역 추출

4. **XGBoost 기반 수요 예측**
   - 각 격자에 대한 수요 스코어를 회귀 방식으로 예측
   - 예측 성능: MAE = 0.11, RMSE = 0.18, R² = 0.9997

5. **MCLP (Maximum Coverage Location Problem) 최적화**
   - 제한된 설치 개수와 커버 반경 조건하에, 최대한 많은 수요를 커버하는 격자 선정
   - pulp 라이브러리를 사용한 선형계획 최적화 적용

6. **민감도 분석 및 전략 비교**
   - 반경 및 설치 수 변화에 따른 커버율 민감도 분석
   - 기존 설치 전략(랜덤/클러스터/행정기반)과 MCLP 전략 비교


---

##  성능 비교 및 결과 (Evaluation)

최종 입지 추천 성능은 다음 4가지 설치 전략에 대해 비교 평가하였습니다.  
아래 표와 지표 정의를 기반으로 성능을 정량 분석하였습니다.

---

###  평가 지표 설명

- **포함 격자 수**: 상위 47개 수요 격자 중 설치된 격자의 수
- **커버 수요**: 해당 격자들이 커버한 수요 총합
- **커버율 (%)**: (커버 수요 / 전체 상위 수요) × 100
- **설치 효율**: 커버 수요 / 설치 격자 수

---

###  예측 모델 성능

- XGBoost 기반 수요 예측 모델은 다음과 같은 정확도를 달성했습니다:
  - **MAE**: 0.11
  - **RMSE**: 0.18
  - **R² Score**: 0.9997

---

###  전략별 성능 비교표

| 설치 방식             | 포함 격자 수 | 커버 수요     | 전체 수요     | 커버율 (%) | 설치 효율 |
|----------------------|--------------|---------------|---------------|-------------|-------------|
| 기존 충전소 전체      | 33 / 47       | 275,653.50     | 324,565.50     | 84.93%      | 157.25       |
| 랜덤 설치             | 0 / 47        | 0.00           | 324,565.50     | 0.00%       | 0.00         |
| 클러스터 기반 설치     | 1 / 47        | 6,103.50       | 324,565.50     | 1.88%       | 129.86       |
| **MCLP 추천 설치**     | **4 / 47**    | **34,884.00**   | 324,565.50     | **10.75%**  | **742.21**   |

---

###  해석

- **MCLP 전략**은 단 4개 격자만을 선택했음에도 **742.21의 설치 효율**을 달성하며, 다른 전략에 비해 매우 높은 단위 효율을 보였습니다.
- 기존 충전소는 넓은 영역을 커버하지만, 설치 대비 효율 면에서는 열세였습니다.
- 클러스터 기반 전략은 일부 수요 밀집 지역만 반영해 실제 커버 효과는 제한적이었습니다.
