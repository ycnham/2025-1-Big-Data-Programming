# 📁 전기차 충전소 입지 선정 모델 입력 데이터 정의서

모델링 코드(`modeling_3.ipynb`)를 정상적으로 실행하려면 다음 CSV 파일들이 지정된 형식으로 준비되어야 합니다.

---

## ✅ 1. `grid_system_processed.csv`

- **경로**: `../data/processed/grid_system_processed.csv`
- **용도**: KMeans 클러스터링 입력용 격자 기반 수요/공급 데이터

| 컬럼명        | 설명                           | 예시       |
|---------------|--------------------------------|------------|
| `grid_id`     | 격자 ID (유일한 키)            | A1001      |
| `center_lat`  | 격자 중심 위도                 | 37.5811    |
| `center_lon`  | 격자 중심 경도                 | 126.9823   |
| `demand_score`| 수요 점수 (ex. 충전량 기준)     | 12453.3    |
| `supply_score`| 공급 점수 (ex. 충전소 용량 기준)| 8230.0     |

---

## ✅ 2. `grid_features.csv`

- **경로**: `../data/processed/grid_features.csv`
- **용도**: XGBoost 예측 모델 입력 feature

| 컬럼명             | 설명                                        | 예시     |
|--------------------|---------------------------------------------|----------|
| `grid_id`          | 격자 ID (KMeans 및 MCLP와 공통 키)          | A1001    |
| `supply_score`     | 공급 점수                                   | 8230.0   |
| `station_count`    | 설치된 충전소 수                             | 2        |
| `commercial_count` | 상업시설 수 (편의점, 식당 등)               | 18       |
| `center_lat`       | 격자 위도                                   | 37.5811  |
| `center_lon`       | 격자 경도                                   | 126.9823 |
| `cluster` *(선택)* | KMeans 클러스터 번호 (없으면 이후 병합됨)   | 0        |
| `demand_score` *(선택)* | 수요 점수 (XGBoost 학습용 label)     | 12453.3  |

---

## ✅ 3. `한국환경공단_전기차 충전소 위치 및 운영정보_*.csv`

- **경로**: `../data/raw/한국환경공단_전기차 충전소 위치 및 운영정보(충전소 ID 포함)_20230531.csv`
- **용도**: Baseline ①: 기존 충전소 기반 커버 수요 평가

| 컬럼명       | 설명                                | 예시                         |
|--------------|-------------------------------------|------------------------------|
| `위도경도`   | 위도, 경도를 쉼표로 구분한 문자열   | `37.5372628,126.8383789`     |
| 또는 `lat`   | 위도 (분리된 열일 경우)             | `37.5372628`                 |
| 또는 `lon`   | 경도 (분리된 열일 경우)             | `126.8383789`                |
| `시도`       | 광역시도 정보                        | `서울특별시`                 |

> ⚠️ **반드시 `시도`가 `"서울특별시"`인 행만 필터링하여 사용**해야 합니다.

---

## 📌 기타 조건 (공통)

- 모든 CSV 파일은 `UTF-8` 또는 `CP949` 인코딩으로 저장
- `grid_id`는 모든 파일에서 **공통 병합 키**로 사용되므로 일치해야 함
- 숫자형 컬럼은 `int` 또는 `float` 형식으로 저장

---

## 📎 예측 결과 파일 (자동 생성)

| 파일명 | 설명 |
|--------|------|
| `grid_features_with_prediction.csv` | XGBoost 예측 결과 (`predicted_demand_score`)가 포함된 파일. MCLP 및 성능 평가 기준이 됨 |